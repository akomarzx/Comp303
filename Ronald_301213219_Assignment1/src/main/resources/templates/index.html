
<!-- 
 Student: Ronald Jr Ombao
 Student #: 301213219
 Date: October 12, 20204
 -->
 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Smart Phones Order</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <div class="container p-4">
        <div class="row justify-content-center">
            <div class="col-md-8"> 
                <h1 class="text-center">Smart Phone Orders Form</h1>
                <form action="#" th:action="@{/createOrder}" th:object="${orderModel}" method="post">
                    <div class="row p-2">
                        <div class="h3 text-secondary p-2 bg-info bg-opacity-10 border border-info rounded">Full Name</div>
                        <div class="d-flex flex-row">
                            <div class="mb-3 me-2 flex-grow-1">
                                <input type="text" class="form-control" id="first-name-input" th:field="*{firstName}" required>
                                <label for="first-name-input" class="form-label">First Name</label>
                            </div>
                            <div class="mb-3 mx-2 flex-grow-1">
                                <input type="text" class="form-control" id="middle-name-input" th:field="*{middleName}">
                                <label for="middle-name-input" class="form-label">Middle Name</label>
                            </div>
                            <div class="mb-3 mx-2 flex-grow-1">
                                <input type="text" class="form-control" id="last-name-input" th:field="*{lastName}" required>
                                <label for="last-name-input" class="form-label">Last Name</label>
                            </div>
                        </div>
                    </div>
                    <div class="row p-2">
                        <div class="h3 text-secondary p-2 bg-info bg-opacity-10 border border-info rounded">Email</div>
                        <div class="mb-3">
                            <input type="email" class="form-control" id="email-input" th:field="*{emailAddress}" required>
                            <div id="emailHelp" class="form-text">example@example.com</div>
                        </div>
                    </div>
                    <div class="row p-2">
                        <div class="h3 text-secondary p-2 bg-info bg-opacity-10 border border-info rounded">Contact Number</div>
                        <div class="d-flex flex-row">
                            <div class="mb-3 me-2 flex-grow-1">
                                <input type="number" class="form-control" id="phone-area-code" th:field="*{phoneAreaCode}" min="0" max="999" required>
                                <label for="phone-area-code" class="form-label">Area Code</label>
                            </div>
                            <div class="mb-3 me-2 flex-grow-1">
                                <input type="number" class="form-control" id="phone-number" th:field="*{phoneNumber}" min="0" max="9999999" required>
                                <label for="phone-number" class="form-label">Phone Number</label>
                            </div>
                        </div>
                    </div>
                    <div class="row p-2">
                        <div class="h3 text-secondary p-2 bg-info bg-opacity-10 border border-info rounded">Address</div>
                        <div class="mb-3">
                            <input type="text" class="form-control" id="streetAddressLine1" th:field="*{streetAddressLine1}" placeholder="123 Main St" required>
                            <label for="streetAddressLine1" class="form-label">Street Address</label>
                        </div>
                        <div class="mb-3">
                            <input type="text" class="form-control" id="streetAddressLine2" th:field="*{streetAddressLine2}" placeholder="Apt 4B">
                            <label for="streetAddressLine2" class="form-label">Street Address Line 2</label>
                        </div>
                        <div class="mb-3">
                            <input type="text" class="form-control" id="city" th:field="*{city}" placeholder="City" required>
                            <label for="city" class="form-label">City</label>
                        </div>
                        <div class="mb-3">
                            <input type="text" class="form-control" id="province" th:field="*{province}" placeholder="State or Province" required>
                            <label for="province" class="form-label">State/Province</label>
                        </div>
                        <div class="mb-3">
                            <input type="text" class="form-control" id="postalCode" th:field="*{postalCode}" placeholder="Postal Code" required>
                            <label for="postalCode" class="form-label">Postal Code</label>
                        </div>
                        <div class="mb-3">
                            <select class="form-select" id="country" th:field="*{country}" required>
                                <option value="" disabled selected>Select Country</option>
                                <option value="Canada">Canada</option>
                                <option value="Usa">USA</option>
                            </select>
                            <label for="country" class="form-label">Country</label>
                        </div>
                    </div>
                    <div class="row p-2">
                        <div class="h3 text-secondary p-2 bg-info bg-opacity-10 border border-info rounded">Product Details</div>
                        <div class="mb-3 d-flex">
                        	<div class="me-2">
 	                           <label for="product-number" class="form-label text-primary">Product #</label>
                        	</div>
                        	<div>
 	                           <input type="text" class="form-control" id="product-number" th:field="*{productNumber}" required>
                        	</div>
                        </div>
                        <div class="mb-3 d-flex">
                        	<div class="me-2">
 	                           <label for="phone-brand" class="form-label text-primary">Phone Brand</label>
                        	</div>
                        	<div>
                            	<select class="form-select" id="phone-brand" th:field="*{phoneBrand}" onchange="updatePhoneModels(this.value)" required>
                                	<option value="" disabled>Select Brand</option>
                                	<option value="Samsung" selected>Samsung</option>
                                	<option value="Apple">Apple</option>
                                	<option value="Google">Google</option>
                            	</select>
                        	</div>
                        </div>
                        <div class="mb-3 d-flex">
                        	<div class="me-2">
 	                           <label for="phone-model" class="form-label text-primary">Phone Model</label>
                        	</div>
                        	<div>
                            	<select class="form-select" id="phone-model" th:field="*{phoneModel}" onchange="updatePhonePrice()" required>
                                	<option value="" disabled selected>Select Model</option>
                            	</select>
                        	</div>
                        </div>
                        <div class="mb-3 d-flex">
                        	<div class=me-4>
 	                           <label for="quantity" class="form-label text-primary">Quantity</label>
                        	</div>
                        	<div>
 	                           <input type="number" class="form-control" id="quantity" th:field="*{quantity}" min="1" required oninput="updateTotalPrice()">
                        	</div>
                        </div>
                        <input type="hidden" th:field="*{phonePrice}" id="hidden-phone-price">
                    </div>
                    <div class="d-flex justify-content-between my-3">
                        <button type="submit" class="btn btn-primary btn-lg">Submit Order</button>
                        <button type="reset" class="btn btn-secondary btn-lg">Clear Form</button>
                    </div>
                </form>
            </div> 
        </div> 
    </div> 

    <script>
    const phonePrices = {
    	    'Samsung': {
    	        'Galaxy S21': 799.00,
    	        'Galaxy Note 20': 999.00,
    	        'Galaxy A52': 499.00
    	    },
    	    'Apple': {
    	        'iPhone 13': 999.00,
    	        'iPhone 12': 799.00,
    	        'iPhone SE': 399.00
    	    },
    	    'Google': {
    	        'Pixel 6': 599.00,
    	        'Pixel 5': 499.00,
    	        'Pixel 4a': 349.00
    	    }
    	};

    	function updatePhoneModels(brand) {
    	    const phoneModelSelect = document.getElementById('phone-model');
    	    phoneModelSelect.innerHTML = '';

    	    let models = [];
    	    switch (brand) {
    	        case 'Samsung':
    	            models = ['Galaxy S21', 'Galaxy Note 20', 'Galaxy A52'];
    	            break;
    	        case 'Apple':
    	            models = ['iPhone 13', 'iPhone 12', 'iPhone SE'];
    	            break;
    	        case 'Google':
    	            models = ['Pixel 6', 'Pixel 5', 'Pixel 4a'];
    	            break;
    	    }

    	    models.forEach(model => {
    	        const option = document.createElement('option');
    	        option.value = model; 
    	        option.text = model;  
    	        phoneModelSelect.appendChild(option);
    	    });

    	    if (models.length > 0) {
    	        phoneModelSelect.value = models[0]; 
    	        updatePhonePrice();
    	    }
    	}

    	function updatePhonePrice() {
    	    const brand = document.getElementById('phone-brand').value;
    	    const model = document.getElementById('phone-model').value;

    	    if (brand && model) {
    	        const price = phonePrices[brand][model]; 
    	        document.getElementById('hidden-phone-price').value = price; 
    	        updateTotalPrice(price);
    	    } else {
    	        updateTotalPrice(0);
    	    }
    	}

    	window.onload = function() {
    	    updatePhoneModels(document.getElementById('phone-brand').value);
    	};
    	
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>

